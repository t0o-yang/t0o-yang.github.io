<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/page/4/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="zh_TW">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Buscar"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Buscar"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-024uniapp第三天" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/03/23/024uniapp%E7%AC%AC%E4%B8%89%E5%A4%A9/" class="article-date">
  <time class="dt-published" datetime="2023-03-23T09:29:57.000Z" itemprop="datePublished">2023-03-23</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%99%BE%E6%97%A5%E5%8D%9A%E5%AE%A2%E8%AE%A1%E5%88%92/">百日博客计划</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/03/23/024uniapp%E7%AC%AC%E4%B8%89%E5%A4%A9/">024uniapp第三天</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>系统学习第三天哦，进度到做一个新闻案例，马上结尾了。</p>
<p><img src="/../images/%E6%96%B0%E9%97%BB%E6%A1%88%E4%BE%8B%E7%BD%91%E9%A1%B5.png" alt="新闻案例网页"></p>
<h1 id="免费api"><a href="#免费api" class="headerlink" title="免费api"></a>免费api</h1><p>获取狗子图片：<a target="_blank" rel="noopener" href="http://dog.ceo/api/breeds/image/random">http://dog.ceo/api/breeds/image/random</a></p>
<p>获取猫咪图片：<a target="_blank" rel="noopener" href="http://api.thecatapi.com/v1/images/search?limit=1">http://api.thecatapi.com/v1/images/search?limit=1</a><br><code>limit</code>如果不等于1，则会返回10张图片</p>
<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>这三天系统学习uniapp，明天就能结束了。我发现网页上的图片无法显示，在本地上是能看到的，怀疑是gitee用的hexo版本太低了，不支持最新的hexo3的引入图片的功能。下面测试一下，先把图片放在gitee的仓库中，能不能正常查看：</p>
<p><img src="https://gitee.com/t0o-yang/t0o-yang/raw/hexo/source/_posts/024uniapp%E7%AC%AC%E4%B8%89%E5%A4%A9/%E6%96%B0%E9%97%BB%E6%A1%88%E4%BE%8B%E7%BD%91%E9%A1%B5.png" alt="新闻案例网页"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/03/23/024uniapp%E7%AC%AC%E4%B8%89%E5%A4%A9/" data-id="clfmqs4ti001etwaa1j3232z5" data-title="024uniapp第三天" class="article-share-link">Compartir</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/hexo/" rel="tag">hexo</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/uniapp/" rel="tag">uniapp</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-023gitee-hexo搭建个人博客" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/03/22/023gitee-hexo%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/" class="article-date">
  <time class="dt-published" datetime="2023-03-22T15:53:14.000Z" itemprop="datePublished">2023-03-22</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%99%BE%E6%97%A5%E5%8D%9A%E5%AE%A2%E8%AE%A1%E5%88%92/">百日博客计划</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/03/22/023gitee-hexo%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/">023gitee+hexo搭建个人博客</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>日志，各位看官就当乐子看吧。</p>
<p><strong>正经人谁写日记啊？！！</strong>    ——鹅城县长</p>
<p>今天uniapp的学习进度到了<code>showModal</code>，其次是在码云上重新搭了博客。介绍工具、记录一下过程。改用个人博客，也是因为这几天写的只能算日志，不算技术博客，还是放在个人网站上比较好。</p>
<h2 id="技术选型"><a href="#技术选型" class="headerlink" title="技术选型"></a>技术选型</h2><h3 id="静态网站工具"><a href="#静态网站工具" class="headerlink" title="静态网站工具"></a>静态网站工具</h3><p>gitee上的Page服务中提到了<code>Jekyll</code>、<code>Hugo</code>、<code>Hexo</code>三种。虽然<code>Hexo</code>的部署过程最慢（<a target="_blank" rel="noopener" href="https://gitee.com/help/articles/4136#article-header0">官方说的</a>），但是个人只用过<code>Hexo</code>，所以选择了Hexo。</p>
<h3 id="服务提供商"><a href="#服务提供商" class="headerlink" title="服务提供商"></a>服务提供商</h3><p><code>gitee</code>和<code>github</code>两个。gitee码云，国内的服务商，访问会更稳定。但是使用gitee有个缺点，<code>hexo g -d</code>没法自动部署，每次都需要上网站更新部署，下面会提到（不知道github会不会有这种情况）。</p>
<h1 id="gitee-hexo搭建"><a href="#gitee-hexo搭建" class="headerlink" title="gitee+hexo搭建"></a>gitee+hexo搭建</h1><p>参考：<a target="_blank" rel="noopener" href="https://www.zhihu.com/question/21193762/answer/79109280">使用hexo，如果换了电脑怎么更新博客？ - CrazyMilk的回答 - 知乎</a>，以前在github上用过Hexo搭建过博客，换设备后，想用这个网站接着写，发现github的仓库中只保留了生成的静态网页，也就是说<code>hexo</code>配置过程要重新弄，连接远程仓库，没有原文档，重新部署的话，旧的博客不就没了吗？所以这次重新使用<code>hexo</code>格外关注这个的解决方案。不想上传配置文件的，看这篇文章：<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_45631738/article/details/104716374">使用hexo+gitee搭建博客</a><br>回到文章内容，参考文章是用github的，那我就把gitee的过程写一下。</p>
<h2 id="1-准备好远程仓库"><a href="#1-准备好远程仓库" class="headerlink" title="1.准备好远程仓库"></a>1.准备好远程仓库</h2><p>创建步骤就不细聊了，跟着页面提示走。注意两个点：</p>
<ol>
<li>仓库名最好是账号的初始名称（如果改过名，可打开个人主页，头像下方‘@’的一串字符就是名称），如果仍想用别的名字，就需要配置一下样式的路径，否则网页没有样式，显示效果很丑。</li>
</ol>
<p><img src="/023gitee-hexo%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/%E9%85%8D%E7%BD%AE%E6%A0%B7%E5%BC%8F.png" alt="配置样式"></p>
<ol start="2">
<li>设置两个分支<code>master</code>和<code>hexo</code>，hexo存放网站的原始文件，包括配置等；master存放生成的静态网页。最后将<code>hexo</code>设置成默认分支。</li>
</ol>
<h2 id="2-准备本地仓库"><a href="#2-准备本地仓库" class="headerlink" title="2.准备本地仓库"></a>2.准备本地仓库</h2><p>克隆远程仓库</p>
<h2 id="3-准备hexo"><a href="#3-准备hexo" class="headerlink" title="3.准备hexo"></a>3.准备hexo</h2><ol>
<li>安装，打开<code>git bash</code>全局安装hexo：<code>npm i hexo-cli -g</code></li>
<li>初始化，在<code>项目文件名a</code>的<strong>外一层</strong>用<code>hexo init 临时文件名b</code>初始化一个<code>hexo</code>项目。hexo init使用的文件夹<strong>必须是空</strong>，所以先在其它地方初始化，然后复制到本地仓库中。</li>
<li>复制，把<code>临时文件名a</code>文件夹中自动生成的所有文件复制到<code>项目文件名a</code>文件夹中。生成的文件大致有以下这些。</li>
</ol>
<p><img src="/023gitee-hexo%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/%E4%B8%B4%E6%97%B6%E6%96%87%E4%BB%B6.png" alt="临时文件"></p>
<ol start="4">
<li>下载hexo的依赖包，回到本地仓库的目录下，执行<code>npm i</code><blockquote>
<p>注意：之后所有操作都在<code>hexo</code>分支下。</p>
</blockquote>
</li>
<li>下载<code>hexo-deployer-git</code>，hexo部署到git上的工具包，执行<code>npm i hexo-deployer-git</code>。</li>
<li>修改分支为master，<code>repo</code>改为自己的远程仓库，<code>branch</code>等于<code>master</code>。</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Deployment</span></span><br><span class="line"><span class="comment">## Docs: https://hexo.io/docs/one-command-deployment</span></span><br><span class="line">deploy:</span><br><span class="line">  <span class="built_in">type</span>: git</span><br><span class="line">  repo: git@gitee.com:t0o-yang/t0o-yang.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure>

<h2 id="4-部署上线"><a href="#4-部署上线" class="headerlink" title="4.部署上线"></a>4.部署上线</h2><ol>
<li>依次执行<code>git add .</code>、<code>git commit -m &quot;...&quot;</code>、<code>git push origin hexo</code>提交网站相关的文件；</li>
<li>执行<code>hexo g -d</code>生成网站并部署<blockquote>
<p>访问gitee上的博客，发现并没有自动更新，只能到gitee上手动操作。不知道github有没有这种问题</p>
</blockquote>
</li>
</ol>
<h1 id="如何使用"><a href="#如何使用" class="headerlink" title="如何使用"></a>如何使用</h1><p>使用<code>hexo new 文章名</code>新建文章，会自动生成md文件。或者，在本地仓库的 <code>/source/_posts</code> 目录下直接新建md文件。建议用命令生成。命令生成会根据设定的模板生成内容，如标题、时间等等，不需要自己写了。同时也能直接生成资源文件夹，存放图片等等内容。</p>
<h2 id="启用资源文件夹"><a href="#启用资源文件夹" class="headerlink" title="启用资源文件夹"></a>启用资源文件夹</h2><p>在<code>_config.yml</code>中修改<code>post_asset_folder</code>，并添加一些配置。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">post_asset_folder: true # 图像等资源访问</span><br><span class="line">marked: # 启用后，资源图片将会被自动解析为其对应文章的路径，直接用md语法</span><br><span class="line">  prependRoot: true</span><br><span class="line">  postAsset: true</span><br></pre></td></tr></table></figure>

<p>在文章中直接用<code>![](图片路径)</code>就可以放置图片了。更多内容，看<a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/docs/asset-folders">官方文档</a>.</p>
<h2 id="增加标签和分栏"><a href="#增加标签和分栏" class="headerlink" title="增加标签和分栏"></a>增加标签和分栏</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 023gitee+hexo搭建个人博客</span><br><span class="line"><span class="built_in">date</span>: 2023-03-22 23:53:14</span><br><span class="line">tags: [uniapp,hexo]</span><br><span class="line">categories: 百日博客计划</span><br><span class="line">description: 系统学习uniapp第二天，搭建个人博客</span><br><span class="line">---</span><br></pre></td></tr></table></figure>

<p>文章开头增加这些代码，其中，<code>tags</code>是数组，表示有多个标签；只有一个标签，直接写标签名就行了；categories表示分栏（分类），只有一个值时，表示一个分栏；如果是数组，想<code>categories: [a, b]</code>，则表示文章在<code>a</code>栏目下的<code>b</code>子栏目下，如下。</p>
<p><img src="/023gitee-hexo%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/%E7%88%B6%E5%AD%90%E6%A0%8F%E7%9B%AE.png" alt="父子栏目"></p>
<p>同属多个栏目的语法，还没找到…</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/03/22/023gitee-hexo%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/" data-id="clfmqs4th0017twaaa8hc6adj" data-title="023gitee+hexo搭建个人博客" class="article-share-link">Compartir</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/hexo/" rel="tag">hexo</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/uniapp/" rel="tag">uniapp</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-022系统学习uniapp" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/03/22/022%E7%B3%BB%E7%BB%9F%E5%AD%A6%E4%B9%A0uniapp/" class="article-date">
  <time class="dt-published" datetime="2023-03-22T13:42:24.857Z" itemprop="datePublished">2023-03-22</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%99%BE%E6%97%A5%E5%8D%9A%E5%AE%A2%E8%AE%A1%E5%88%92/">百日博客计划</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/03/22/022%E7%B3%BB%E7%BB%9F%E5%AD%A6%E4%B9%A0uniapp/">022系统学习uniapp</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>日志，各位看官就当乐子看吧。</p>
<p><strong>正经人谁写日记啊？！！</strong>    ——鹅城县长</p>
<p>系统学习一下uniapp的使用，正好找的教程的项目都是基于vue2的，刚好学习一下vue2的语法。</p>
<h1 id="uniapp、vue项目区别"><a href="#uniapp、vue项目区别" class="headerlink" title="uniapp、vue项目区别"></a>uniapp、vue项目区别</h1><h2 id="自定义组件"><a href="#自定义组件" class="headerlink" title="自定义组件"></a>自定义组件</h2><ol>
<li>在uni-app工程根目录下的 components 目录，创建并存放自定义组件：</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">│─components            	符合vue组件规范的uni-app组件目录</span><br><span class="line">│  └─componentA         	符合‘components/组件名称/组件名称.vue’目录结构，easycom方式可直接使用组件</span><br><span class="line">│  		└─componentA.vue    可复用的componentA组件</span><br><span class="line">│  └─component-a.vue      可复用的component-a组件</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>必须components目录下，创建同名组件的同名目录</strong></p>
<ol start="2">
<li>直接使用，区别于vue2的引入再注册</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 在index.<span class="property">vue</span>引入 uni-badge 组件--&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">view</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">uni-badge</span> <span class="attr">text</span>=<span class="string">&quot;1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">uni-badge</span>&gt;</span><span class="comment">&lt;!-- 3.使用组件 --&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">// 这里不用import引入，也不需要在components内注册uni-badge组件。template里就可以直接用</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h1 id="彩蛋"><a href="#彩蛋" class="headerlink" title="彩蛋"></a>彩蛋</h1><p>以前在github上用<code>hexo</code>做了个人博客，访问：<a target="_blank" rel="noopener" href="https://t0o-yang.github.io/">个人博客</a>。还挺快的，但已经忘了怎么使用了！电脑也换了。明天用gitee重新整一个。之后博客就放在那了。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/03/22/022%E7%B3%BB%E7%BB%9F%E5%AD%A6%E4%B9%A0uniapp/" data-id="clfmqs4tg0015twaa1jr49g5d" data-title="022系统学习uniapp" class="article-share-link">Compartir</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-021todos初版" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/03/22/021todos%E5%88%9D%E7%89%88/" class="article-date">
  <time class="dt-published" datetime="2023-03-22T13:42:24.849Z" itemprop="datePublished">2023-03-22</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%99%BE%E6%97%A5%E5%8D%9A%E5%AE%A2%E8%AE%A1%E5%88%92/">百日博客计划</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/03/22/021todos%E5%88%9D%E7%89%88/">021todos初版</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>日志，各位看官就当乐子看吧。</p>
<p><strong>正经人谁写日记啊？！！</strong>    ——鹅城县长</p>
<h1 id="todos"><a href="#todos" class="headerlink" title="todos"></a>todos</h1><p>项目初版基本好了，代码中保留了<code>axios</code>的代码，之后找找如何正确在<code>uniapp</code>中使用<code>axios</code>。</p>
<p>使用组件的一个难点就是很难操作其生成的dom对象。</p>
<p>有两个需求，没实现：</p>
<ol>
<li>当事项完成时，<code>uni-easyinput</code>生成的<code>input</code>能加上删除线，即<code>text-decoration:line-through;</code><br> 方案是操作dom，但是只限于h5平台，微信小程序中，无法使用DOM，然后尝试用uniapp内置的获取节点方法<code>uni.createSelectorQuery()</code>，但取不到对应的input（h5下，是通过给组件绑定id，但是微信下，根本没有id属性）； <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取dom，添加删除线</span></span><br><span class="line"><span class="keyword">const</span> input=<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#todo-&#x27;</span>+todo.<span class="property">_id</span>).<span class="title function_">querySelector</span>(<span class="string">&quot;input.uni-input-input&quot;</span>)</span><br><span class="line"><span class="keyword">if</span>(input.<span class="title function_">getAttribute</span>(<span class="string">&#x27;style&#x27;</span>)==<span class="literal">null</span>) &#123;</span><br><span class="line">    input.<span class="title function_">setAttribute</span>(<span class="string">&#x27;style&#x27;</span>,<span class="string">&#x27;text-decoration:line-through;&#x27;</span>)</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    input.<span class="title function_">removeAttribute</span>(<span class="string">&#x27;style&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>数据初始化后，根据事项完成状态，添加删除线<br> 方案是操作dom, 在mounted中，获取生成的dom对象。结果发现没有获取到。</li>
<li>使用<code>axios</code>发送请求<br> 实际中也有需要将vue项目改造成uniapp项目，除了改组件，JS代码都是希望仅可能复用的，找了第三方插件，如<code>uniapp-axios-adapter</code>，没实现。说一下使用过程，大家看看哪里不对：<ol>
<li><p>安装<code>npm i axios@0.27.2</code>， <code>npm i uniapp-axios-adapter</code></p>
</li>
<li><p><code>main.js</code>中配置全局API，按照原先vue项目的使用习惯</p>
<ol>
<li>配置  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.js        </span></span><br><span class="line"><span class="keyword">import</span> request <span class="keyword">from</span> <span class="string">&quot;/common/http.js&quot;</span>;</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">...<span class="title class_">App</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.$mount()</span><br><span class="line"><span class="comment">// axios 全局引用</span></span><br><span class="line">app.<span class="property">config</span>.<span class="property">globalProperties</span>.<span class="property">$axios</span> = request;</span><br></pre></td></tr></table></figure>
  <code>http.js</code>文件  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// /common/http.js</span></span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&quot;uniapp-axios-adapter&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> request = axios.<span class="title function_">create</span>(&#123;</span><br><span class="line"><span class="attr">baseURL</span>: <span class="string">&quot;http://127.0.0.1:3000&quot;</span>,</span><br><span class="line"><span class="attr">timeout</span>: <span class="number">10000</span>,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">request.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(<span class="function">(<span class="params">config</span>) =&gt;</span> &#123;</span><br><span class="line"><span class="comment">//带上token</span></span><br><span class="line"><span class="comment">// config.headers[&quot;Authorization&quot;] = &quot;token&quot;;</span></span><br><span class="line"><span class="keyword">return</span> config;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">request.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">use</span>(<span class="function">(<span class="params">response</span>) =&gt;</span> &#123;</span><br><span class="line"><span class="comment">// 统一处理响应,返回Promise以便链式调用</span></span><br><span class="line"><span class="keyword">if</span> (response.<span class="property">status</span> === <span class="number">200</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; data &#125; = response;</span><br><span class="line">    <span class="keyword">if</span> (data &amp;&amp; data.<span class="property">code</span> === <span class="number">200</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">resolve</span>(data);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(data);</span><br><span class="line">    &#125;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(response);</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> request;</span><br></pre></td></tr></table></figure></li>
<li>使用，直接调post或者按照文档方式都结果失败了 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 直接调</span></span><br><span class="line">axios.<span class="title function_">post</span>(<span class="string">&#x27;/task-modify&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">id</span>: <span class="variable language_">this</span>.<span class="property">todos</span>[index].<span class="property">_id</span>,</span><br><span class="line">    <span class="attr">title</span>: editText</span><br><span class="line">&#125;).<span class="title function_">then</span>()</span><br><span class="line"><span class="comment">// 文档案例的方式</span></span><br><span class="line"><span class="variable language_">this</span>.$axios(&#123;</span><br><span class="line">    <span class="attr">method</span>: <span class="string">&#x27;get&#x27;</span>,</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&quot;/task-del&quot;</span>,</span><br><span class="line">    <span class="attr">params</span>: &#123;</span><br><span class="line">        <span class="attr">id</span>: <span class="variable language_">this</span>.<span class="property">todos</span>[delIndex].<span class="property">_id</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;).<span class="title function_">then</span>()</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li><p>采取了直接使用的方式</p>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 官方文档的使用案例</span></span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&quot;uniapp-axios-adapter&quot;</span>;</span><br><span class="line">axios.<span class="title function_">get</span>(&#123;</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&quot;https://example.com/api/getUserById&quot;</span>,</span><br><span class="line">    <span class="attr">params</span>: &#123;</span><br><span class="line">        <span class="attr">id</span>: <span class="number">1</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p> 报错是，get is not defined，这就很疑惑了！</p>
</li>
</ol>
</li>
</ol>
<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>三天，学习<code>uniapp</code>，使用其组件，简单实现一个todos项目</p>
<p><img src="https://gitee.com/t0o-yang/Images/raw/master/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20230320223136.jpg" alt="todos真机演示"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/03/22/021todos%E5%88%9D%E7%89%88/" data-id="clfmqs4tf000ztwaa3xzedduy" data-title="021todos初版" class="article-share-link">Compartir</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-020uniapp前端请求" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/03/22/020uniapp%E5%89%8D%E7%AB%AF%E8%AF%B7%E6%B1%82/" class="article-date">
  <time class="dt-published" datetime="2023-03-22T13:42:24.843Z" itemprop="datePublished">2023-03-22</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%99%BE%E6%97%A5%E5%8D%9A%E5%AE%A2%E8%AE%A1%E5%88%92/">百日博客计划</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/03/22/020uniapp%E5%89%8D%E7%AB%AF%E8%AF%B7%E6%B1%82/">020uniapp前端请求</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>日志，各位看官就当乐子看吧。</p>
<p><strong>正经人谁写日记啊？！！</strong>    ——鹅城县长</p>
<p>uniapp项目，前端请求方式（或 常用插件）。后端是用<code>nodejs</code>创建的服务器。</p>
<h1 id="uni-request"><a href="#uni-request" class="headerlink" title="uni.request"></a>uni.request</h1><p>官方文档: <a target="_blank" rel="noopener" href="https://uniapp.dcloud.net.cn/api/request/request.html">发起请求</a></p>
<h1 id="axios"><a href="#axios" class="headerlink" title="axios"></a>axios</h1><p>vue项目，第一个想到的就是<code>axios</code>，使用了<code>uniapp-axios-adapter</code>这个插件，使用方式：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 业务代码中</span></span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&quot;uniapp-axios-adapter&quot;</span>;</span><br><span class="line">axios.<span class="title function_">get</span>(&#123;</span><br><span class="line">  <span class="attr">url</span>: <span class="string">&quot;https://example.com/api/getUserById&quot;</span>,</span><br><span class="line">  <span class="attr">params</span>: &#123;</span><br><span class="line">    <span class="attr">id</span>: <span class="number">1</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>结果出错，<code>get</code>没有定义，最终选择了<code>uni-request</code>。</p>
<h1 id="todos"><a href="#todos" class="headerlink" title="todos"></a>todos</h1><p>计划：点击选择框，事项状态转为完成，需要完成的功能点：</p>
<ol>
<li>事件完成，图标需要换成<code>checkbox</code></li>
<li>文字删除线</li>
<li>输入框不可编辑</li>
<li>更新 leftCount</li>
</ol>
<p>	</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/03/22/020uniapp%E5%89%8D%E7%AB%AF%E8%AF%B7%E6%B1%82/" data-id="clfmqs4tg0013twaaby962r5j" data-title="020uniapp前端请求" class="article-share-link">Compartir</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-019todos" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/03/22/019todos/" class="article-date">
  <time class="dt-published" datetime="2023-03-22T13:42:24.837Z" itemprop="datePublished">2023-03-22</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%99%BE%E6%97%A5%E5%8D%9A%E5%AE%A2%E8%AE%A1%E5%88%92/">百日博客计划</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/03/22/019todos/">019todos</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>日志，各位看官就当乐子看吧。</p>
<p><strong>正经人谁写日记啊？！！</strong>    ——鹅城县长</p>
<h1 id="todos页面"><a href="#todos页面" class="headerlink" title="todos页面"></a>todos页面</h1><p>今天的<code>todos</code>项目有大进展，终于把大致样子构造出来了，但是有个大问题，列表上的前后按钮是直接用了<code>uni-easyinput</code>的<code>prefixIcon</code>和<code>suffixIcon</code>，虽然组件上有<code>iconClick</code>事件监听前后按钮点击，但是在得知点击的是前后哪个按钮后，无法传入其他参数，也就无法改变事项的状态了。</p>
<img src="https://gitee.com/t0o-yang/Images/raw/e60923799c94481b5a695d6b89930ffdbdd5b6f1/localhost_5173_(iPhone%20SE).png" title="" alt="todos页面" style="zoom:30%;" data-align="center">

<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>组件好用，但是当需要调整时，也是很难改的</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/03/22/019todos/" data-id="clfmqs4th0019twaa738f7epp" data-title="019todos" class="article-share-link">Compartir</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-018uniapp" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/03/22/018uniapp/" class="article-date">
  <time class="dt-published" datetime="2023-03-22T13:42:24.833Z" itemprop="datePublished">2023-03-22</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%99%BE%E6%97%A5%E5%8D%9A%E5%AE%A2%E8%AE%A1%E5%88%92/">百日博客计划</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/03/22/018uniapp/">018uniapp</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>日志，各位看官就当乐子看吧。</p>
<p><strong>正经人谁写日记啊？！！</strong>    ——鹅城县长</p>
<p>看了黄子华的电影，还是觉得你最好，好看。今天没干什么，uniapp开发，不能达到想要的效果，难受。</p>
<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>隐式转换、vue响应式系统、相等和全等、浅拷贝和深拷贝、Promise、小程序</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/03/22/018uniapp/" data-id="clfmqs4td000rtwaa2iu24u6w" data-title="018uniapp" class="article-share-link">Compartir</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-017小程序" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/03/22/017%E5%B0%8F%E7%A8%8B%E5%BA%8F/" class="article-date">
  <time class="dt-published" datetime="2023-03-22T13:42:24.829Z" itemprop="datePublished">2023-03-22</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%99%BE%E6%97%A5%E5%8D%9A%E5%AE%A2%E8%AE%A1%E5%88%92/">百日博客计划</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/03/22/017%E5%B0%8F%E7%A8%8B%E5%BA%8F/">017小程序</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>日志，各位看官就当乐子看吧。</p>
<p><strong>正经人谁写日记啊？！！</strong>    ——鹅城县长</p>
<h1 id="todos"><a href="#todos" class="headerlink" title="todos"></a>todos</h1><p>看了一下<code>uniapp</code>的文档，拿黑马的<code>todos</code>项目练手，还没写完，明天见。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/03/22/017%E5%B0%8F%E7%A8%8B%E5%BA%8F/" data-id="clfmqs4te000wtwaaar0kh84p" data-title="017小程序" class="article-share-link">Compartir</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-016手写Promise" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/03/22/016%E6%89%8B%E5%86%99Promise/" class="article-date">
  <time class="dt-published" datetime="2023-03-22T13:42:24.826Z" itemprop="datePublished">2023-03-22</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%99%BE%E6%97%A5%E5%8D%9A%E5%AE%A2%E8%AE%A1%E5%88%92/">百日博客计划</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/03/22/016%E6%89%8B%E5%86%99Promise/">016手写Promise</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>日志，各位看官就当乐子看吧。</p>
<p><strong>正经人谁写日记啊？！！</strong>    ——鹅城县长</p>
<p>实现<code>Promise</code></p>
<h1 id="实现Promise"><a href="#实现Promise" class="headerlink" title="实现Promise"></a>实现Promise</h1><p>原文：<a target="_blank" rel="noopener" href="https://juejin.cn/post/7032564107899322381#heading-0">手撕Promise</a></p>
<h2 id="构造函数"><a href="#构造函数" class="headerlink" title="构造函数"></a>构造函数</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Promise 构造函数</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义状态</span></span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">PENDING</span>=<span class="string">&#x27;pending&#x27;</span></span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">FULFILLED</span>=<span class="string">&#x27;fulfilled&#x27;</span></span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">REJECTED</span>=<span class="string">&#x27;rejected&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Promise</span>(<span class="params">executor</span>)&#123;</span><br><span class="line">    <span class="comment">// 保证 this 指向实例</span></span><br><span class="line">    <span class="keyword">const</span> that=<span class="variable language_">this</span> </span><br><span class="line">    that.<span class="property">status</span>=<span class="variable constant_">PENDING</span> <span class="comment">// 初始化状态</span></span><br><span class="line">    that.<span class="property">data</span>=<span class="literal">undefined</span> <span class="comment">// 完成（成功或失败）后回调的值</span></span><br><span class="line">    that.<span class="property">callbacks</span>=[]    <span class="comment">// 回调队列，用&#123; onResolve, onReject &#125;对象存储指定的回调</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// resolve 改变实例状态为成功的函数</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">resolve</span>(<span class="params">value</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span>(that.<span class="property">status</span>!==<span class="variable constant_">PENDING</span>) <span class="keyword">return</span>;</span><br><span class="line">        that.<span class="property">status</span>=<span class="variable constant_">FULFILLED</span>;</span><br><span class="line">        that.<span class="property">data</span>=value;</span><br><span class="line">        <span class="comment">// 需要回调，调用 queueMicrotask 执行</span></span><br><span class="line">        <span class="keyword">if</span>(that.<span class="property">callbacks</span>.<span class="property">length</span>&gt;<span class="number">0</span>) &#123;</span><br><span class="line">            <span class="title function_">queueMicrotask</span>(that.<span class="property">callbacks</span>.<span class="title function_">forEach</span>(<span class="function"><span class="params">cb</span> =&gt;</span> <span class="title function_">cb</span>(that.<span class="property">data</span>)))</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>其中提到了一个<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/HTML_DOM_API/Microtask_guide">微任务ueMicrotask()</a>的概念。</p>
<h2 id="微任务和任务"><a href="#微任务和任务" class="headerlink" title="微任务和任务"></a>微任务和任务</h2><p>MDN上写的很难懂啊。<br>关键区别：首先，每当一个任务存在，事件循环都会检查该任务是否正把控制权交给其他 JavaScript 代码。如若不然，事件循环就会运行微任务队列中的所有微任。<br>其次，如果一个微任务通过调用 queueMicrotask(), 向队列中加入了更多的微任务，则那些新加入的微任务 会早于下一个任务运行。</p>
<h1 id="彩蛋"><a href="#彩蛋" class="headerlink" title="彩蛋"></a>彩蛋</h1><p>中小企业对小程序、移动端的需求很大，先学学小程序。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/03/22/016%E6%89%8B%E5%86%99Promise/" data-id="clfmqs4tf0011twaagazl0fiz" data-title="016手写Promise" class="article-share-link">Compartir</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-015相等、拷贝" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/03/22/015%E7%9B%B8%E7%AD%89%E3%80%81%E6%8B%B7%E8%B4%9D/" class="article-date">
  <time class="dt-published" datetime="2023-03-22T13:42:24.821Z" itemprop="datePublished">2023-03-22</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%99%BE%E6%97%A5%E5%8D%9A%E5%AE%A2%E8%AE%A1%E5%88%92/">百日博客计划</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/03/22/015%E7%9B%B8%E7%AD%89%E3%80%81%E6%8B%B7%E8%B4%9D/">015相等、拷贝</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>日志，各位看官就当乐子看吧。</p>
<p><strong>正经人谁写日记啊？！！</strong>    ——鹅城县长</p>
<p>结合理解，用短篇幅回答一个面试题</p>
<h1 id="浅拷贝和深拷贝"><a href="#浅拷贝和深拷贝" class="headerlink" title="浅拷贝和深拷贝"></a>浅拷贝和深拷贝</h1><p>原文：<a target="_blank" rel="noopener" href="https://vue3js.cn/interview/JavaScript/copy.html#%E4%B8%80%E3%80%81%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E5%AD%98%E5%82%A8">https://vue3js.cn/interview/JavaScript/copy.html#%E4%B8%80%E3%80%81%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E5%AD%98%E5%82%A8</a></p>
<p>浅拷贝：指一个对象的副本，副本中的属性与源对象的属性共享相同引用（指向相同的底层值）；<br>深拷贝：不共享，也就是当改变源或副本时，可以保证不对其他对象也产生变化。</p>
<h2 id="进阶"><a href="#进阶" class="headerlink" title="进阶"></a>进阶</h2><h3 id="复制操作方法哪些是浅拷贝"><a href="#复制操作方法哪些是浅拷贝" class="headerlink" title="复制操作方法哪些是浅拷贝"></a>复制操作方法哪些是浅拷贝</h3><p><code>扩展运算符</code>、<code>Array.prototype.concat()</code>、<code>Array.prototype.slice()</code>、<code>Array.from()</code>、<code>Object.assign()</code>、<code>Object.create()</code></p>
<h3 id="如何实现深拷贝？"><a href="#如何实现深拷贝？" class="headerlink" title="如何实现深拷贝？"></a>如何实现深拷贝？</h3><ol>
<li><p>JSON.stringify</p>
<p> 先将数据字符串化，然后通过JSON.parse生成对象并赋值。<br> 缺点：会忽略如函数、Symbol、undefined等类型的属性</p>
</li>
<li><p>代码实现，基于递归</p>
</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">deepClone</span>(<span class="params">obj, hash = <span class="keyword">new</span> <span class="built_in">WeakMap</span>()</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (obj == <span class="literal">null</span>) <span class="keyword">return</span> obj; <span class="comment">// 如果是null或者undefined我就不进行拷贝操作</span></span><br><span class="line">  <span class="keyword">if</span> (obj <span class="keyword">instanceof</span> <span class="title class_">Date</span>) <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Date</span>(obj);</span><br><span class="line">  <span class="keyword">if</span> (obj <span class="keyword">instanceof</span> <span class="title class_">RegExp</span>) <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">RegExp</span>(obj);</span><br><span class="line">  <span class="comment">// 可能是对象或者普通的值  如果是函数的话是不需要深拷贝</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> obj !== <span class="string">&quot;object&quot;</span>) <span class="keyword">return</span> obj;</span><br><span class="line">  <span class="comment">// 是对象的话就要进行深拷贝</span></span><br><span class="line">  <span class="keyword">if</span> (hash.<span class="title function_">has</span>(obj)) <span class="keyword">return</span> hash.<span class="title function_">get</span>(obj);</span><br><span class="line">  <span class="comment">// 找到的是所属类原型上的constructor,创建相同类型数据</span></span><br><span class="line">  <span class="keyword">let</span> cloneObj = <span class="keyword">new</span> obj.<span class="title function_">constructor</span>(<span class="params"></span>);</span><br><span class="line">  hash.<span class="title function_">set</span>(obj, cloneObj);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">    <span class="keyword">if</span> (obj.<span class="title function_">hasOwnProperty</span>(key)) &#123;</span><br><span class="line">      <span class="comment">// 实现一个递归拷贝</span></span><br><span class="line">      cloneObj[key] = <span class="title function_">deepClone</span>(obj[key], hash);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> cloneObj;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>其中<code>WeakMap</code>是处理循环引用的情况，避免栈溢出。就是以下这种情况。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">lain.<span class="property">itself</span>=lain</span><br><span class="line"><span class="title function_">deepClone</span>(lain)</span><br></pre></td></tr></table></figure>

<p>建议看<a target="_blank" rel="noopener" href="https://juejin.cn/post/7072178027584552974#heading-10">深拷贝的实现</a>（其中，有对拷贝代码的步步完善过程）。最后我有个问题，<strong>数据的循环引用的应用场景是什么？</strong></p>
<ol start="3">
<li>structuredClone()</li>
</ol>
<p>原文：<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Glossary/Deep_copy">深拷贝的定义</a>, <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/structuredClone">structuredClone()</a></p>
<p>MDN中提到了这个方法，也支持循环引用，</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> original = &#123; <span class="attr">name</span>: <span class="string">&quot;MDN&quot;</span>&#125;;</span><br><span class="line">original.<span class="property">itself</span> = original;</span><br><span class="line"><span class="keyword">let</span> clone = <span class="title function_">structuredClone</span>(original);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(clone !== original); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(clone.<span class="property">name</span> === <span class="string">&quot;MDN&quot;</span>); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(clone.<span class="property">itself</span> === clone); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>缺点是输入值要求必须可以序列化，还有兼容问题</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> original = &#123; <span class="attr">name</span>: <span class="string">&quot;MDN&quot;</span>, <span class="attr">A</span>: <span class="literal">undefined</span>, <span class="attr">B</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;&#125; &#125;;</span><br><span class="line"><span class="keyword">let</span> clone = <span class="title function_">structuredClone</span>(original);  <span class="comment">// Uncaught DOMException: ... function()&#123;&#125; could not be cloned.</span></span><br></pre></td></tr></table></figure>
<p>文中提到了”它是浏览器和任何其他实现了 window 这样全局对象的 JavaScript 运行时的一个特性”，意思应该是存在兼容性问题，可以引入<code>core-js</code>解决。</p>
<h1 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h1><p><code>==相等</code>和<code>===全等</code>，以及适用场景<br>&#x3D;&#x3D;相等的判断会出现类型转换：</p>
<ol>
<li>只有不同类型数据比较，才会发生隐式转换；</li>
<li>两个操作数都是基本类型，则字符串和布尔类型会转换成数值；</li>
<li>仅单个操作数是对象，则会获取对象原始值，再依据1,2做对比；</li>
<li>两个数都是对象，则判断他们是否是相同引用，相同则相等；</li>
<li>null和undefined相等；</li>
<li>任一数是NaN，结果都是false</li>
</ol>
<p>&#x3D;&#x3D;&#x3D;全等，则是不转换类型，直接判断是否相等。其中null、undefined只和自身全等。<br>场景：当需要判断对象属性是否等于null和undefined时，使用<code>==</code>。其余建议都使用<code>===</code>。</p>
<p>for…in 遍历对象自身的和继承的可枚举属性（不含 Symbol 属性）。阮一峰老师的博客有些，<a target="_blank" rel="noopener" href="https://es6.ruanyifeng.com/#docs/object#%E5%B1%9E%E6%80%A7%E7%9A%84%E5%8F%AF%E6%9E%9A%E4%B8%BE%E6%80%A7%E5%92%8C%E9%81%8D%E5%8E%86">对象的扩展</a><br>for…of 主要用于依赖索引顺序的遍历，Array</p>
<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>学习<code>Proxy</code>以及基于Proxy实现响应式系统</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/03/22/015%E7%9B%B8%E7%AD%89%E3%80%81%E6%8B%B7%E8%B4%9D/" data-id="clfmqs4te000ttwaagc0u961j" data-title="015相等、拷贝" class="article-share-link">Compartir</a>
      
      
      
    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/3/">&laquo; Previo</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/5/">Siguiente &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categorías</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95/">前端面试</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%99%BE%E6%97%A5%E5%8D%9A%E5%AE%A2%E8%AE%A1%E5%88%92/">百日博客计划</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%99%BE%E6%97%A5%E5%8D%9A%E5%AE%A2%E8%AE%A1%E5%88%92/%E4%BB%BF%E6%90%BA%E7%A8%8B%E7%BD%91%E7%AB%99/">仿携程网站</a></li></ul></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/DNS/" rel="tag">DNS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ES6/" rel="tag">ES6</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTTP/" rel="tag">HTTP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JS/" rel="tag">JS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MVVM/" rel="tag">MVVM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Object-defineProperty/" rel="tag">Object.defineProperty</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React/" rel="tag">React</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TCP/" rel="tag">TCP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vue/" rel="tag">Vue</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/bind/" rel="tag">bind</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/computed/" rel="tag">computed</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/data/" rel="tag">data()</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/eventloop/" rel="tag">eventloop</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/" rel="tag">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/keep-alive/" rel="tag">keep-alive</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/new/" rel="tag">new</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nextTick/" rel="tag">nextTick</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/promise/" rel="tag">promise</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/slot/" rel="tag">slot</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/this%E5%AF%B9%E8%B1%A1/" rel="tag">this对象</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/uniapp/" rel="tag">uniapp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/watch/" rel="tag">watch</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BD%9C%E7%94%A8%E5%9F%9F/" rel="tag">作用域</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF/" rel="tag">前端</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8E%9F%E5%9E%8B/" rel="tag">原型</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/" rel="tag">数据类型</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A/" rel="tag">数据绑定</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/" rel="tag">生命周期</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BD%91%E7%BB%9C/" rel="tag">网络</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%8A%82%E6%B5%81%E9%98%B2%E6%8A%96/" rel="tag">节流防抖</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%97%AD%E5%8C%85/" rel="tag">闭包</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%A1%B9%E7%9B%AE/" rel="tag">项目</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Nube de Tags</h3>
    <div class="widget tagcloud">
      <a href="/tags/DNS/" style="font-size: 10px;">DNS</a> <a href="/tags/ES6/" style="font-size: 10px;">ES6</a> <a href="/tags/HTTP/" style="font-size: 10px;">HTTP</a> <a href="/tags/JS/" style="font-size: 12.5px;">JS</a> <a href="/tags/MVVM/" style="font-size: 10px;">MVVM</a> <a href="/tags/Object-defineProperty/" style="font-size: 10px;">Object.defineProperty</a> <a href="/tags/React/" style="font-size: 20px;">React</a> <a href="/tags/TCP/" style="font-size: 10px;">TCP</a> <a href="/tags/Vue/" style="font-size: 17.5px;">Vue</a> <a href="/tags/bind/" style="font-size: 10px;">bind</a> <a href="/tags/computed/" style="font-size: 10px;">computed</a> <a href="/tags/data/" style="font-size: 10px;">data()</a> <a href="/tags/eventloop/" style="font-size: 10px;">eventloop</a> <a href="/tags/hexo/" style="font-size: 15px;">hexo</a> <a href="/tags/keep-alive/" style="font-size: 10px;">keep-alive</a> <a href="/tags/new/" style="font-size: 10px;">new</a> <a href="/tags/nextTick/" style="font-size: 10px;">nextTick</a> <a href="/tags/promise/" style="font-size: 10px;">promise</a> <a href="/tags/slot/" style="font-size: 10px;">slot</a> <a href="/tags/this%E5%AF%B9%E8%B1%A1/" style="font-size: 10px;">this对象</a> <a href="/tags/uniapp/" style="font-size: 15px;">uniapp</a> <a href="/tags/watch/" style="font-size: 10px;">watch</a> <a href="/tags/%E4%BD%9C%E7%94%A8%E5%9F%9F/" style="font-size: 10px;">作用域</a> <a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 10px;">前端</a> <a href="/tags/%E5%8E%9F%E5%9E%8B/" style="font-size: 10px;">原型</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/" style="font-size: 10px;">数据类型</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A/" style="font-size: 10px;">数据绑定</a> <a href="/tags/%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/" style="font-size: 10px;">生命周期</a> <a href="/tags/%E7%BD%91%E7%BB%9C/" style="font-size: 12.5px;">网络</a> <a href="/tags/%E8%8A%82%E6%B5%81%E9%98%B2%E6%8A%96/" style="font-size: 10px;">节流防抖</a> <a href="/tags/%E9%97%AD%E5%8C%85/" style="font-size: 10px;">闭包</a> <a href="/tags/%E9%A1%B9%E7%9B%AE/" style="font-size: 17.5px;">项目</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archivos</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/04/">四月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/03/">三月 2023</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Posts recientes</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2023/04/20/052React%E5%AE%9E%E6%88%987/">052React实战7</a>
          </li>
        
          <li>
            <a href="/2023/04/19/051React%E5%AE%9E%E6%88%986/">051React实战6</a>
          </li>
        
          <li>
            <a href="/2023/04/18/050React%E5%AE%9E%E6%88%985/">050React实战5</a>
          </li>
        
          <li>
            <a href="/2023/04/18/049React%E5%AE%9E%E6%88%984/">049React实战4</a>
          </li>
        
          <li>
            <a href="/2023/04/16/048React%E5%AE%9E%E6%88%983/">048React实战3</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2023 John Doe<br>
      Construido por <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>